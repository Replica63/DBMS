# Домашнее задание к занятию "`Базы данных, их типы`" - `Копаческу Владимир`

---

### Задание 1. СУБД
Кейс
Крупная строительная компания, которая также занимается проектированием и девелопментом, решила создать правильную архитектуру для работы с данными. Ниже представлены задачи, которые необходимо решить для каждой предметной области.

Какие типы СУБД, на ваш взгляд, лучше всего подойдут для решения этих задач и почему?

1.1. Бюджетирование проектов с дальнейшим формированием финансовых аналитических отчётов и прогнозирования рисков. СУБД должна гарантировать целостность и чёткую структуру данных.

1.1.* Хеширование стало занимать длительно время, какое API можно использовать для ускорения работы?

1.2. Под каждый девелоперский проект создаётся отдельный лендинг, и все данные по лидам стекаются в CRM к маркетологам и менеджерам по продажам. Какой тип СУБД лучше использовать для лендингов и для CRM? СУБД должны быть гибкими и быстрыми.

1.2.* Можно ли эту задачу закрыть одной СУБД? И если да, то какой именно СУБД и какой реализацией?

1.3. Отдел контроля качества решил создать базу по корпоративным нормам и правилам, обучающему материалу и так далее, сформированную согласно структуре компании. СУБД должна иметь простую и понятную структуру.

1.3.* Можно ли под эту задачу использовать уже существующую СУБД из задач выше и если да, то как лучше это реализовать?

1.4. Департамент логистики нуждается в решении задач по быстрому формированию маршрутов доставки материалов по объектам и распределению курьеров по маршрутам с доставкой документов. СУБД должна уметь быстро работать со связями.

1.4.* Можно ли к этой СУБД подключить отдел закупок или для них лучше сформировать свою СУБД в связке с СУБД логистов?

1.5.* Можно ли все перечисленные выше задачи решить, используя одну СУБД? Если да, то какую именно?

Приведите ответ в свободной форме.

### Решение 1
1.1. Для бюджетирования проектов и формирования финансовых аналитических отчетов подойдет реляционная СУБД (например, PostgreSQL или MySQL). Они обеспечивают целостность данных и четкую структуру, что важно для финансовой аналитики.

1.1.* Для ускорения хеширования можно использовать API, такие как Google Guava или Apache Commons. Они предлагают эффективные алгоритмы хеширования.

1.2. Для лендингов и CRM подойдут NoSQL СУБД (например, MongoDB или CouchDB). Они обеспечивают гибкость и быстроту, что важно для работы с большим объемом данных.

1.2.* Эту задачу можно закрыть одной СУБД, если использовать гибридную СУБД (например, ArangoDB), которая поддерживает как реляционные, так и NoSQL модели данных.

1.3. Для создания базы по корпоративным нормам и правилам подойдет реляционная СУБД (например, PostgreSQL или MySQL). Они обеспечивают простую и понятную структуру данных.

1.3.* Эту задачу можно решить с использованием уже существующей СУБД из задач выше, если использовать реляционную СУБД (например, PostgreSQL или MySQL) и создать отдельные таблицы для отдела контроля качества.

1.4. Для решения задач логистики подойдет графовая СУБД (например, Neo4j). Она позволяет быстро работать со связями, что важно для формирования маршрутов доставки.

1.4.* Отдел закупок можно подключить к этой СУБД, если использовать гибридную СУБД (например, ArangoDB), которая поддерживает как графовые, так и реляционные модели данных.

1.5.* Все перечисленные задачи можно решить, используя одну СУБД, если выбрать гибридную СУБД (например, ArangoDB). Она поддерживает различные модели данных, что позволяет гибко подходить к решению разных задач. Однако стоит учесть, что использование одной СУБД может привести к компромиссам в производительности и специализации для конкретных задач.

---

### Задание 2. Транзакции

2.1. Пользователь пополняет баланс счёта телефона, распишите пошагово, какие действия должны произойти для того, чтобы транзакция завершилась успешно. Ориентируйтесь на шесть действий.

2.1.* Какие действия должны произойти, если пополнение счёта телефона происходило бы через автоплатёж?

Приведите ответ в свободной форме.

###  Решение 2
2.1. Пополнение баланса счета телефона обычно включает следующие шаги:

Авторизация: Пользователь входит в свой аккаунт на сайте оператора связи или в мобильном приложении.
Выбор услуги: Пользователь выбирает услугу пополнения баланса.
Ввод данных: Пользователь вводит номер телефона и сумму пополнения.
Выбор способа оплаты: Пользователь выбирает удобный способ оплаты (например, кредитная карта, электронный кошелек и т.д.).
Подтверждение платежа: Пользователь подтверждает платеж, вводя необходимые данные (например, CVV-код для кредитной карты).
Получение подтверждения: Пользователь получает подтверждение об успешном пополнении баланса.
2.1.* Если пополнение счета телефона происходит через автоплатеж, процесс будет немного отличаться:

Авторизация: Пользователь входит в свой аккаунт на сайте оператора связи или в мобильном приложении.
Настройка автоплатежа: Пользователь настраивает автоплатеж, указывая номер телефона, сумму пополнения и периодичность платежей.
Выбор способа оплаты: Пользователь выбирает способ оплаты и сохраняет данные для будущих платежей.
Подтверждение настроек: Пользователь подтверждает настройки автоплатежа.
Активация автоплатежа: Автоплатеж активируется, и счет пользователя будет автоматически пополняться согласно выбранным настройкам.
Получение уведомлений: Пользователь получает уведомления о каждом успешном платеже.
---
### Задание 3. SQL vs NoSQL
3.1. Напишите пять преимуществ SQL-систем по отношению к NoSQL.

3.1.* Какие, на ваш взгляд, преимущества у NewSQL систем перед SQL и NoSQL.

Приведите ответ в свободной форме.

### Решение 3
3.1. Некоторые преимущества SQL-систем по отношению к NoSQL:

Стандартизация: SQL-системы используют универсальный и хорошо известный язык запросов SQL, который позволяет легко обмениваться данными и интегрироваться с другими системами.
Целостность данных: SQL-системы поддерживают схему данных, которая определяет структуру, типы и ограничения для хранения данных. Это обеспечивает согласованность и надежность данных, а также предотвращает ошибки и аномалии.
Транзакционность: SQL-системы гарантируют, что каждая операция с данными будет выполнена полностью или не выполнена вовсе, соблюдая свойства ACID (атомарность, согласованность, изолированность и долговечность). Это важно для обеспечения безопасности и целостности данных, особенно при параллельном доступе к ним.
Отношения: SQL-системы позволяют определять и использовать отношения между различными таблицами и данными, что облегчает анализ и извлечение информации из связанных данных.
Производительность: SQL-системы обычно имеют высокую скорость обработки запросов и эффективное использование ресурсов, благодаря оптимизации, индексированию и кэшированию данных.
3.1.* Некоторые преимущества NewSQL систем перед SQL и NoSQL:

Масштабируемость: NewSQL системы способны обрабатывать большие объемы данных и высокую нагрузку на чтение и запись, распределяя данные и запросы по нескольким узлам в кластере. Это преодолевает ограничения SQL систем в плане горизонтального масштабирования и устраняет необходимость в денормализации данных в NoSQL системах.
Гибкость: NewSQL системы поддерживают различные модели данных, такие как реляционная, документоориентированная, графовая и т.д., что позволяет адаптироваться к разным потребностям и сценариям использования данных. Это расширяет возможности SQL систем в плане поддержки разнообразных данных и упрощает работу с данными в NoSQL системах.
Совместимость: NewSQL системы совместимы с SQL стандартом и поддерживают большинство функций и операторов SQL языка, что облегчает перенос данных и приложений с SQL систем и уменьшает кривую обучения для разработчиков и аналитиков. Это устраняет проблемы с разнообразием и сложностью языков запросов в NoSQL системах.
---
### Задание 4. Кластеры
Необходимо производить большое количество вычислений при работе с огромным количеством данных, под эту задачу выделено 1000 машин.

На основе какого критерия будете выбирать тип СУБД и какая модель распределённых вычислений здесь справится лучше всего и почему?

Приведите ответ в свободной форме.

### Решение 4

Выбор типа СУБД и модели распределенных вычислений зависит от нескольких факторов, включая:

Тип данных: Некоторые СУБД лучше подходят для работы с определенными типами данных. Например, реляционные СУБД хорошо подходят для структурированных данных, в то время как NoSQL СУБД могут быть более подходящими для неструктурированных или полуструктурированных данных.
Требования к производительности: Если требуется обрабатывать большие объемы данных в реальном времени, может потребоваться использование NoSQL СУБД или NewSQL СУБД, которые обеспечивают высокую производительность и масштабируемость.
Требования к надежности и целостности данных: Если важна надежность и целостность данных, реляционные СУБД могут быть более подходящим выбором, поскольку они обеспечивают соблюдение свойств ACID (атомарность, согласованность, изолированность, долговечность).
В контексте распределенных вычислений, модель MapReduce может быть хорошим выбором для обработки больших объемов данных на большом количестве машин. MapReduce разбивает задачу на множество меньших подзадач, которые могут быть выполнены параллельно, а затем объединяет результаты. Это позволяет эффективно использовать ресурсы и обеспечивает высокую производительность.

Однако, если требуется выполнить сложные аналитические запросы или машинное обучение на больших данных, модель Apache Spark может быть более подходящим выбором. Spark предлагает более высокую производительность для итеративных алгоритмов и поддерживает более сложные вычислительные модели, чем MapReduce.

В любом случае, конкретный выбор будет зависеть от специфики задачи и требований к системе. Поэтому перед выбором стоит провести детальное исследование и, возможно, протестировать различные варианты на подмножестве данных.
